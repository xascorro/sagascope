<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SagaScope</title>
    <!-- Base Core Styles -->
    <link rel="stylesheet" href="core/style.css">
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Dynamic Theme Styles (Swapped by JS) -->
    <link id="theme-style" rel="stylesheet" href="">
</head>

<body>

    <div id="app-container">
        <header class="glass-panel">
            <div class="brand">
                <h1 id="header-title">SagaScope</h1>
                <h2 id="saga-title">Selecciona un Universo</h2>
            </div>

            <!-- Controls ... -->
            <!-- Controls -->
            <div class="header-controls">
                <button id="back-btn" class="icon-btn" style="visibility: hidden;" title="Volver / Back">
                    <!-- Simple Back Arrow SVG -->
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                        stroke-linecap="round" stroke-linejoin="round">
                        <line x1="19" y1="12" x2="5" y2="12"></line>
                        <polyline points="12 19 5 12 12 5"></polyline>
                    </svg>
                </button>
                
                <!-- Custom Language Selector -->
                <div class="custom-select-wrapper">
                    <div class="custom-select">
                        <div class="custom-select__trigger"><span>Espa√±ol</span> <div class="arrow"></div></div>
                        <div class="custom-options">
                            <!-- Populated by JS -->
                        </div>
                    </div>
                </div>

                <button id="theme-toggle" class="icon-btn" title="Toggle Theme">
                    <svg width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"></path></svg>
                </button>
            </div>
        </header>

        <!-- Saga Selector View -->
        <div id="saga-selector-container">
            <!-- Populated by JS -->
        </div>

        <!-- Main Reading View (initially hidden) -->
        <div id="main-ui" class="glass-panel">

            <!-- Stats Area -->
            <div id="saga-stats" style="display:none; padding: 0 20px; margin-bottom: 20px;">
                <h3 id="stats-summary" style="text-align:center; color: var(--text-secondary); margin-bottom:20px;">
                    Estimaciones</h3>
                <div class="charts-container">
                    <div class="chart-box">
                        <canvas id="booksChart"></canvas>
                    </div>
                    <div class="chart-box">
                        <canvas id="progressChart"></canvas>
                    </div>
                </div>
            </div>

            <div class="controls">
                <select id="book-selector">
                    <!-- Populated by JS -->
                </select>
                <button id="start-btn" class="primary-action" onclick="startTest()">Comenzar Lectura</button>
            </div>

            <div id="reading-area">
                <div id="reading-content">
                    <!-- Text injected here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Results Modal -->
    <div id="results-overlay">
        <div id="results-content">
            <!-- Results injected here -->
        </div>
    </div>

    <!-- Logic -->
    <!-- Placeholder for dynamic data script -->
    <script id="data-script"></script>
    <!-- Core Logic -->
    <script src="core/script.js"></script>

</body>

</html>